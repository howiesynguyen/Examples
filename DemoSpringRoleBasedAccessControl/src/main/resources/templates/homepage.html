<!DOCTYPE html>
<html lang="es" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
	<meta charset="UTF-8">

	<script type="text/javascript" th:src="@{/webjars/jquery/3.5.1/jquery.min.js/}"></script>
	<script type="text/javascript" th:src="@{/webjars/bootstrap/4.6.0/js/bootstrap.min.js}"></script>

	<title>Demo - SpringBoot SSO by OAuth2 and OpenID Connect</title>
    
	<link rel="stylesheet" type="text/css" th:href="@{/webjars/bootstrap/4.6.0/css/bootstrap.min.css}" />
</head>
<body>
    <h1>SpringBoot SSO by OAuth2 and OpenID Connect Demo -- Home Page</h1>
    
    <br/>
    <div style="margin-left: 20px;">
    	<a href="accesstoken" class="text-info" style="font-weight: bold;">Access token</a>
    	<span sec:authorize="!isAuthenticated()">(required login)</span>
	</div>
	
	<div style="margin-left: 20px;" sec:authorize="isAuthenticated()">
		<a href="poweruser" class="text-info" style="font-weight: bold;">Try me if you're a Power User!</a> (Role-based Access Control Demo)
	</div>

	<br/>
    <div sec:authorize="!isAuthenticated()" style="margin-left: 20px;">
     	<a href="login" class="btn btn-success">Login</a>
	</div>
	
    <div sec:authorize="isAuthenticated()" style="margin-left: 20px;">
    	 <p> Logged user: <span sec:authentication="name"></span></p>
   	     <form method="post" th:action="@{/logout}" class="navbar-form navbar-right">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                <button id="logout-button" type="submit" class="btn btn-danger">Logout</button>
          </form>
	</div>
</body>
</html>
