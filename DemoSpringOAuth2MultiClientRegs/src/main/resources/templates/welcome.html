<!DOCTYPE html>
<html lang="es" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
	<meta charset="UTF-8">
	<script type="text/javascript" th:src="@{/webjars/jquery/3.5.1/jquery.min.js/}"></script>
	<script type="text/javascript" th:src="@{/webjars/bootstrap/4.6.0/js/bootstrap.min.js}"></script>

	<title>SpringBoot Demo - OAuth2</title>
    
	<link rel="stylesheet" type="text/css" th:href="@{/webjars/bootstrap/4.6.0/css/bootstrap.min.css}" />
</head>
<body>
    <h1>Welcome! You've signed in successfully</h1>
    <div>User name: <span style="font-style: italic;" th:text="${userName}"></span></div>
    <div>Client app. name: <span style="font-style: italic;" th:text="${clientName}"></span></div>
    <div>User Attributes: <span style="font-style: italic;" th:text="${userAttributes}"></span></div>
    <br/>
    <div>Access Token: <p style="margin-left: 10px"><span th:text="${accessToken}"></span></p></div>
    <br/>
    
    <div><a href="/" class="btn btn-secondary">Home Page</a></div>
	<br/>
   	 <!--/* help protect against CSRF attacks, use POST and CSRF token. If logged in, show the logout button */-->
   	 <div sec:authorize="isAuthenticated()">
   	     <form method="post" th:action="@{/logout}" class="navbar-form navbar-right">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                <button id="logout-button" type="submit" class="btn btn-danger">Logout</button>
         </form>
	</div>


</body>
</html>
