<!DOCTYPE html>
<html lang="es" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
	<meta charset="UTF-8">

	<script type="text/javascript" th:src="@{/webjars/jquery/3.5.1/jquery.min.js/}"></script>
	<script type="text/javascript" th:src="@{/webjars/bootstrap/4.6.0/js/bootstrap.min.js}"></script>

	<title>SpringBoot Demo - OAuth2</title>
    
	<link rel="stylesheet" type="text/css" th:href="@{/webjars/bootstrap/4.6.0/css/bootstrap.min.css}" />
</head>
<body>
    <h1>SpringBoot Demo - OAuth2 - Home Page</h1>
    
    <br/>
    <div sec:authorize="!isAuthenticated()" style="margin-left: 20px;">
     	<a href="welcome" class="btn btn-primary">Login</a>
	</div>
	
    <div sec:authorize="isAuthenticated()">
    	 <p> Logged user: <span sec:authentication="name"></span></p>
   	     <form method="post" th:action="@{/logout}" class="navbar-form navbar-right">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                <button id="logout-button" type="submit" class="btn btn-danger">Logout</button>
          </form>
	</div>
</body>
</html>
